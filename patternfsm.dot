digraph fsm{
    rankdir = LR;
    graph [fontname = "Consolas", fontsize=14];
    node [fontname = "Consolas", fontsize=14];
    edge [fontname = "Consolas", fontsize=14];
    node [shape=circle];
    ""[color=white]
    ""-> "IDLE" [label="reset"]
    "IDLE"   -> "IDLE"          [label="else"]
    "IDLE"   -> "READ_REQ"      [label="!size_fifo_empty"]
    "READ_REQ"  -> "READ_SIZE"
    "READ_SIZE" -> "LOAD_SIZE"
    "LOAD_SIZE" -> "FILLING"    [label="cnt_fill_q!=0"]
    "LOAD_SIZE" -> "READ_DATA"  [label="cnt_fill_q==0"]  
    "FILLING"   -> "FILLING"    [label="cnt_fill_q!=0"]
    "FILLING"   -> "READ_DATA"  [label="cnt_fill_q==0"]
    "READ_DATA" -> "OUT_CRC"    [label="req_crc && cnt_cb_q==25"]
    "OUT_CRC"   -> "NEXT_BLOCK" [label="cnt_cb_q==1"]
    "READ_DATA" -> "NEXT_BLOCK" [label="!req_crc && cnt_cb_q==1"]
    "READ_DATA" -> "NEXT_BLOCK" [label="otherwise"]
    "NEXT_BLOCK"-> "IDLE"       [label="cm_q==0 && cp_q==0"]
    "NEXT_BLOCK"-> "LOAD_SIZE"  [label="otherwise"]
}
